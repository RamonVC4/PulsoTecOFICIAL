<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Revisor - Panel principal</title>
    <link rel="stylesheet" href="../styles/styles_general.css">
    <link rel="stylesheet" href="../styles/styles_revisor.css">
</head>
<body>
    <header class="site-header">
        <div class="header-top">
            <div class="container">
                <div class="logo-text">PT</div>
                <h1 class="title">PULSO<span class="gold">TEC</span></h1>
            </div>
        </div>
        <nav class="nav-bar">
            <div class="container">
                <ul class="nav-list">
                    <li><a href="../Index.html">INICIO</a></li>
                    <li><a href="#">DOCUMENTOS</a></li>
                    <li><a href="#">AYUDA</a></li>
                    <li class="login"><a href="./login.html">CERRAR SESIÓN</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <main class="container revisor-main">
        <section class="revisor-overview">
            <div class="overview-copy">
                <h2>Panel de revisión</h2>
                <p class="muted">Gestiona tus solicitudes y prioriza las revisiones que ya aceptaste. Mantén tu bandeja limpia antes de tomar nuevos documentos.</p>
            </div>
            <div class="overview-metrics">
                <article class="metric-card is-critical" aria-label="Revisiones pendientes">
                    <span class="metric-label">Pendientes</span>
                    <span class="metric-value">3</span>
                    <p class="metric-sub">2 con fecha límite en 48&nbsp;h</p>
                </article>
                <article class="metric-card is-info" aria-label="Documentos disponibles">
                    <span class="metric-label">Disponibles</span>
                    <span class="metric-value">5</span>
                    <p class="metric-sub">Selecciona solo si puedes concluirlos</p>
                </article>
                <article class="metric-card is-success" aria-label="Revisiones entregadas">
                    <span class="metric-label">Entregadas</span>
                    <span class="metric-value">18</span>
                    <p class="metric-sub">Última revisión enviada hace 4 días</p>
                </article>
            </div>
        </section>

        <section class="revisor-board">
            <article class="card focus-card" aria-labelledby="focus-title">
                <header class="card-head">
                    <div>
                        <h3 id="focus-title">Revisiones pendientes</h3>
                        <p class="muted">Realiza la evaluación en la nueva vista dedicada. Podrás consultar el PDF y abrir la rúbrica en paralelo.</p>
                    </div>
                    <span class="badge badge-critical">Prioridad alta</span>
                </header>

                <ul class="doc-queue focus-list">
                    <li class="doc-row is-hot">
                        <div class="doc-info">
                            <h4 class="doc-title">Reporte de laboratorio</h4>
                            <p class="doc-meta"><span>Asignado: 01 nov 2025</span> · <span>Entrega: 12 nov</span></p>
                        </div>
                        <div class="doc-actions">
                            <button class="btn-primary" data-route="review-session.html?doc=doc-2001">Reanudar revisión</button>
                        </div>
                    </li>
                    <li class="doc-row">
                        <div class="doc-info">
                            <h4 class="doc-title">Ensayo clínico fase I</h4>
                            <p class="doc-meta"><span>Asignado: 05 nov 2025</span> · <span>Entrega: 15 nov</span></p>
                        </div>
                        <div class="doc-actions">
                            <button class="btn-outline" data-route="review-session.html?doc=doc-2002">Continuar</button>
                        </div>
                    </li>
                    <li class="doc-row">
                        <div class="doc-info">
                            <h4 class="doc-title">Propuesta de telemedicina rural</h4>
                            <p class="doc-meta"><span>Asignado: 06 nov 2025</span> · <span>Entrega: 18 nov</span></p>
                        </div>
                        <div class="doc-actions">
                            <button class="btn-outline" data-route="review-session.html?doc=doc-2003">Continuar</button>
                        </div>
                    </li>
                </ul>
            </article>

            <aside class="card board-card" aria-labelledby="board-title">
                <header class="card-head">
                    <div>
                        <h3 id="board-title">Bandeja de documentos</h3>
                        <p class="muted">Consulta los documentos disponibles y tu historial reciente.</p>
                    </div>
                    <button class="btn-secondary" type="button">Exportar resumen</button>
                </header>

                <div class="board-tools">
                    <label class="sr-only" for="search">Buscar documentos</label>
                    <input id="search" type="search" placeholder="Buscar por título, autor o fecha...">
                </div>

                <div class="tabs board-tabs" role="tablist" aria-label="Listas de documentos">
                    <button id="tab-pendientes" class="tab is-active" role="tab" aria-selected="true" data-target="panel-pendientes">Mis pendientes</button>
                    <button id="tab-disponibles" class="tab" role="tab" aria-selected="false" data-target="panel-disponibles">Disponibles</button>
                    <button id="tab-revisados" class="tab" role="tab" aria-selected="false" data-target="panel-revisados">Revisados</button>
                </div>

                <div class="panels">
                    <!-- Pendientes -->
                    <ul id="panel-pendientes" class="docs-list panel is-active" role="tabpanel" aria-labelledby="tab-pendientes">
                        <li class="doc-item" data-id="doc-2001">
                            <div class="thumb" aria-hidden="true"></div>
                            <div class="meta">
                                <div class="title-panels">Reporte de laboratorio</div>
                                <div class="sub">Asignado: 2025-11-01 · Estado: En curso</div>
                            </div>
                            <button class="btn-tertiary" data-route="review-session.html?doc=doc-2001">Reanudar</button>
                        </li>
                        <li class="doc-item" data-id="doc-2002">
                            <div class="thumb" aria-hidden="true"></div>
                            <div class="meta">
                                <div class="title-panels">Ensayo clínico fase I</div>
                                <div class="sub">Asignado: 2025-11-05 · Estado: En curso</div>
                            </div>
                            <button class="btn-tertiary" data-route="review-session.html?doc=doc-2002">Continuar</button>
                        </li>
                    </ul>

                    <!-- Disponibles -->
                    <ul id="panel-disponibles" class="docs-list panel" role="tabpanel" aria-labelledby="tab-disponibles">
                        <li class="doc-item" data-id="doc-1001">
                            <div class="thumb" aria-hidden="true"></div>
                            <div class="meta">
                                <div class="title-panels">Protocolo de bioseguridad</div>
                                <div class="sub">Subido: 2025-11-03 · Tiempo estimado: 4 h</div>
                            </div>
                            <button class="btn-tertiary" data-action="take" data-route="review-session.html?doc=doc-1001">Tomar revisión</button>
                        </li>
                        <li class="doc-item" data-id="doc-1002">
                            <div class="thumb" aria-hidden="true"></div>
                            <div class="meta">
                                <div class="title-panels">Informe de campo</div>
                                <div class="sub">Subido: 2025-11-04 · Tiempo estimado: 3 h</div>
                            </div>
                            <button class="btn-tertiary" data-action="take" data-route="review-session.html?doc=doc-1002">Tomar revisión</button>
                        </li>
                    </ul>

                    <!-- Revisados -->
                    <ul id="panel-revisados" class="docs-list panel" role="tabpanel" aria-labelledby="tab-revisados">
                        <li class="doc-item" data-id="doc-3001">
                            <div class="thumb" aria-hidden="true"></div>
                            <div class="meta">
                                <div class="title-panels">Guía de procedimientos</div>
                                <div class="sub">Revisado: 2025-10-22 · Dictamen: Aceptado</div>
                            </div>
                            <a class="link" href="#" aria-label="Ver bitácora">Bitácora</a>
                        </li>
                        <li class="doc-item" data-id="doc-3002">
                            <div class="thumb" aria-hidden="true"></div>
                            <div class="meta">
                                <div class="title-panels">Manual de laboratorio</div>
                                <div class="sub">Revisado: 2025-10-10 · Dictamen: Cambios menores</div>
                            </div>
                            <a class="link" href="#" aria-label="Ver bitácora">Bitácora</a>
                        </li>
                    </ul>
                </div>
            </aside>
        </section>
    </main>

    <script>
    (function () {
        const $ = (sel, root=document) => root.querySelector(sel);
        const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));

        // Tabs para la bandeja
        $$('.board-tabs .tab').forEach(tab => {
            tab.addEventListener('click', () => {
                $$('.board-tabs .tab').forEach(t => t.classList.remove('is-active'));
                tab.classList.add('is-active');
                $$('.panel').forEach(panel => panel.classList.remove('is-active'));
                $('#' + tab.dataset.target).classList.add('is-active');
            });
        });

        // Navegación hacia la vista de revisión
        $$('.docs-list, .focus-list').forEach(list => {
            list.addEventListener('click', event => {
                const button = event.target.closest('[data-route]');
                if (!button) return;
                const route = button.getAttribute('data-route');
                if (!route) return;

                if (button.dataset.action === 'take') {
                    const confirmMsg = 'Al tomar este documento se asignará a tu bandeja de pendientes. ¿Deseas continuar?';
                    if (!window.confirm(confirmMsg)) return;
                }

                window.location.href = route;
            });
        });
    })();
    </script>
</body>
</html>

